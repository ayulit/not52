Лекция 8. Потоки времени.

Ваша задача – сравнить производительность параллельной и последовательной записи.

У вас есть ArrayList со строками.
Положите туда не меньше 1000 строк.
 
Теперь вам нужно записать все строки в файлы.
 
Каждую строку запишите в отдельный файл. Название файла – индекс этой строки в листе (т.е. 1,2,3 и т.д.).
 
1.	В папке strings_sequential запишите все строки, используя один поток.
2.	В папке strings_parallel запишите все строки, использую по потоку на каждую строку.
3.	Не забывайте закрывать потоки!
 
Измерьте время записи для каждого случая и выведите его на экран.
 
После этого вам нужно будет протестировать скорость чтения.
 
1.	Прочитайте все файлы из strings_sequential и (используйте File.listFiles()) используя один поток. Содержимое всех файлов положите в ArrayList с названием stringsSequential.
2.	Прочитайте все файлы из strings_parallell используя по потоку на файлы. Содержимое всех файлов положите в ArrayList с названием stringsParallel.
 
Измерьте время чтения для каждого случая и выведите его на экран.
 
Рекомендации.
1.	С последовательным– все понятно: берем и читаем используя FileInputStream для чтения, FileOutputStream для записи.
2.	Для параллельного чтения вы можете использовать:
a.	Класс Thread  и Runnable
b.	ExecutorService
3.	Во время параллельного чтения при добавлении в List у вас может возникнуть ConcurrentModificationException – не забывайте про синхронизацию.
4.	Порядок элементов во время чтения для параллельного и последовательного случая будет различаться – это нормально в данной задаче.

